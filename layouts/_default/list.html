{{ define "main" }}
<div class="container" style="padding-top: 20px; padding-bottom: 50px;">
    
    <h1 style="text-align: center; font-family: var(--font-identity); text-transform: uppercase; margin-bottom: 40px;">
        {{ .Title }}
    </h1>

    <section class="gallery">
        <div id="gallery">
            {{/* Loop through all pages in this folder */}}
            {{ range .Pages }}
                <div class="gallery-item">
                    <a href="{{ .RelPermalink }}">
                        {{/* Try to find a cover image or the first image */}}
                        {{ $img := .Resources.GetMatch "*cover*" }}
                        {{ if not $img }}
                            {{ $img = index (.Resources.ByType "image") 0 }}
                        {{ end }}
                        
                        {{/* Render Image */}}
                        {{ if $img }}
                            {{ $r := $img.Resize "600x" }}
                            <img src="{{ $r.RelPermalink }}" alt="{{ .Title }}" loading="lazy">
                        {{ else }}
                            <div style="width: 100%; height: 200px; background: #eee; display: flex; align-items: center; justify-content: center;">
                                <span style="color: #999;">No Image</span>
                            </div>
                        {{ end }}
                        
                        <div class="overlay">
                            <span>{{ .Title }}</span>
                        </div>
                    </a>
                </div>
            {{ end }}
        </div>
    </section>
</div>
{{ end }}